# ТЗ_2 Третьяков Александр ББИ235

![Build Status](https://github.com/6mvge/TZ_2/actions/workflows/maven.yml/badge.svg)

# ТЗ_2

## Описание проекта
Этот проект реализует программу на Java, которая считывает из файла ```test.txt``` числа и выполняет следующие операции:
- Поиск минимального числа (getMin)
- Поиск максимального числа (getMax)
- Сумма всех чисел (getSum)
- Произведение всех чисел (getMult)

Помимо этого, в данный проект заложен функционал автоматического тестирование программы на корректность и проивзовдительность.

## Функциональность
- Чтение чисел из файла
- Поиск минимального и максимального числа
- Вычисление суммы и произведения чисел
- Тестирование корректности выполнения функций поиска минимального и максимального числа, вычисления суммы и произведения чисел
- Тестирование производительности при увеличении размера входного файла
- Генерация тестовых файлов раличных размеров

## Структура проекта
- **pom.xml**: Maven проектный файл.
- **src**: Исходный код проекта.
  - **main**: Основной код программы.
    - **java**
      - **com.test**: Пакет с реализацией функциональности.
        - **Calculater** - сама программа
  - **test**: Тесты проекта.
    - **java**
      - **com.test**: Пакет с тестами для проверки функциональности.
        - **FileGenerator** - программа генерирующая тестовые файлы раличных размеров
        - **TestCalculater** - тестовый класс в проекте, который содержит тесты для проверки функциональности методов
        - **TimeTest** - это класс, который содержит тесты для проверки производительности программы (замера времени) при увеличении размера входного файла
- **test_numbers_size_100.txt**: Тестовый файл с 100 числами.
- **test_numbers_size_1000.txt**: Тестовый файл с 1000 числами.
- **test_numbers_size_10000.txt**: Тестовый файл с 10000 числами.
- **test_numbers_size_100000.txt**: Тестовый файл с 100000 числами.
- **test_numbers_size_1000000.txt**: Тестовый файл с 1000000 числами.
- **test.txt** - файл со входными данными.

## Тестирование 
Класс ```TestCalculator``` содержит тесты, проверяющие основные операции с числами, считанными из файла. Тесты включают проверку функций для нахождения минимального (```getMin```) и максимального (```getMax```) чисел, вычисления суммы (```getSum```) и произведения (```getMult```) всех чисел в файле ```test.txt```. Например, тесты проверяют, что функции возвращают ожидаемые результаты для заранее заданных списков чисел. Также в этом классе присутствует тест testTimeout, целью которого является проверка невыполнения функции в заданное время. Этот тест специально перегружает программу, чтобы проверить, выбрасывается ли исключение по истечении заданного времени. В случае, если так происходит, тест считается пройденным.

Класс ```TimeTest``` содержит тесты для оценки производительности функций при работе с различными размерами входных данных. Эти тесты измеряют время выполнения функций ```getMin```, ```getMax```, ```getSum``` и ```getMult``` при обработке файлов с различным количеством чисел (100, 1000, 10000, 100000, 1000000). Результаты измерений позволяют построить графики зависимости времени выполнения функций от размера входных данных, что помогает понять, как функции масштабируются с увеличением объема данных. 

## Как тестировать
Для запуска тестов выполните следующую команду:
```sh
mvn test
```
## Время работы в зависимости от количества данных в файле
![2024-06-02 20 17 32](https://github.com/6mvge/TZ_2/assets/152098166/c7323fff-15f9-4c90-aa03-7f6cec1d09c0)

Этот график отображает зависимость времени выполнения функции getMult() от количества чисел во входном файле. По горизонтальной оси отложено количество чисел во входной файле, по вертикальной — время выполнения в миллисекундах. График показывает, что время выполнения функции быстрее увеличивается с ростом размера входного файла, что свидетельствует о нелинейной сложности выполения функции, которая приблизительно равна O(n^2).

## CI/CD
Этот проект использует GitHub Actions для CI/CD. Тесты запускаются автоматически при каждом новом коммите. В верхней части README.md расположен бейдж, отображающий текущий статус прохождения тестов.

## Telegram-Бот
Этот проект настроен для отправки уведомлений о статусе прохождения тестов в Telegram-бот: @tz2_alex_bot. Он отправляет разные сообщения в зависимости от результата тестов:
- Если все тесты пройдены успешно: "Все тесты пройдены успешно"
- Если тесты не пройдены: "Build failed. Test results: <>"
